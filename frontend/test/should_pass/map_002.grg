using map_model_002;

rule getValue {
	a:A;
	
	modify {
		eval {
			a.stringValue = a.intToString[5];
		}
	}
}

rule putValue {
	a:A;
	
	modify {
		eval {
			a.intToString = a.intToString | map<int,string>{ 5->a.intValue };
		}
	}
}

rule putValueWithKeyCast {
	a:A;
	
	modify {
		eval {
			a.stringToInt = a.stringToInt | map<string,int>{ a.intValue->a.intValue };
		}
	}
}

rule removeWithCast {
	a:A;
	
	modify {
		eval {
			a.stringToInt = a.stringToInt \ map<string,int>{ a.intValue->0 };
		}
	}
}

rule mapSize {
	a:A;
	
	if { a.intToString.size()==42; }
	
	modify {
		eval {
			a.intValue = a.stringToInt.size();
		}
	}
}
